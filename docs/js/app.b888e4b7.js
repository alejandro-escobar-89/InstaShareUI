(function(){"use strict";var e={7157:function(e,t,a){a.r(t);var s=a(6027);window._=a(4806),window.axios=a(6265),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.axios.defaults.withCredentials=!0,window.axios.defaults.baseURL="http://api.instashare.com",window.Pusher=a(4410),window.Echo=new s.Z({broadcaster:"pusher",key:"6703ed5284895be65df0",cluster:"mt1",forceTLS:!0})},5552:function(e,t,a){var s=a(9242),l=a(3766),i=a(678),n=a(3396);const o=(0,n._)("h1",{class:"text-center text-primary fs-xxl fw-bold"},"Welcome to the InstaShare community!",-1),r=(0,n._)("p",{class:"text-center fs-3 mt-3"},"A place to share your files freely, quickly, securely.",-1),c={class:"row flex-column-reverse flex-lg-row"},d={class:"col-lg-5 d-flex flex-column justify-content-center align-items-start"},m=(0,n._)("h2",{class:"fs-xl fw-bold"},"Download files published by the community",-1),u=(0,n._)("p",{class:"fs-4 mt-3"},"No registration needed, just feel free to browse through our file repo and download anything you like.",-1),p=(0,n.Uk)("Check it out! →"),f={class:"col-lg-7 d-flex flex-column justify-content-center"},b=["src"],w={class:"row"},g={class:"col-lg-7 d-flex flex-column justify-content-center"},h=["src"],_={class:"col-lg-5 d-flex flex-column justify-content-center align-items-end text-end"},y=(0,n._)("h2",{class:"fs-xl fw-bold"},"Share your files with the community",-1),v=(0,n._)("p",{class:"fs-4 mt-3"},"Sign up, upload your file(s) and that's it! You're good to go! Now everyone will be able to get your file(s) in just 1 click.",-1),x={class:"d-flex align-items-center gap-3 mt-3"},k=(0,n.Uk)("Sign up"),U=(0,n._)("span",{class:"fs-4"},"or",-1),S=(0,n.Uk)("Login");function D(e,t){const s=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[o,r,(0,n._)("div",c,[(0,n._)("div",d,[m,u,(0,n.Wm)(s,{to:{name:"fileList"},class:"btn btn-lg rounded-pill btn-primary mt-3"},{default:(0,n.w5)((()=>[p])),_:1})]),(0,n._)("div",f,[(0,n._)("img",{src:a(9589),alt:"Download illustration"},null,8,b)])]),(0,n._)("div",w,[(0,n._)("div",g,[(0,n._)("img",{src:a(8665),alt:"Upload illustration"},null,8,h)]),(0,n._)("div",_,[y,v,(0,n._)("div",x,[(0,n.Wm)(s,{to:{name:"register"},class:"btn btn-lg rounded-pill btn-primary"},{default:(0,n.w5)((()=>[k])),_:1}),U,(0,n.Wm)(s,{to:{name:"login"},class:"btn btn-lg rounded-pill btn-secondary"},{default:(0,n.w5)((()=>[S])),_:1})])])])],64)}var j=a(89);const F={},C=(0,j.Z)(F,[["render",D]]);var q=C,E=a(4870),W=a(7139),z=a(8937);const O=(0,l.Q_)("app",{actions:{showInfo(e){document.querySelector("#info-toast .toast-body").innerText=e,new z.FN(document.getElementById("info-toast")).show()},showError(e){let t="Unable to process your request";try{if(e.response&&e.response.data&&e.response.data.message){if(t=e.response.data.message,e.response.data.errors){const a=e.response.data.errors;if(Array.isArray(a))a.map((e=>{t+=`\n\n- ${e}`}));else if("object"===typeof a)for(const e in a)t+="\n\n- "+a[e]}}else"object"===typeof e?t=e.toString().replace(/^Error:\s/,""):"string"===typeof e&&(t=e)}catch(a){t+="\nPlease check the logs for more info."}document.querySelector("#error-toast .toast-body").innerText=t,new z.FN(document.getElementById("error-toast")).show()}}}),L=(0,l.Q_)("user",{state:()=>({authenticated:!1,user:{}}),actions:{checkAuthenticated(e=null,t=null){const{showError:a}=O();window.axios.get("/api/user").then((({data:t})=>{this.authenticated=!0,this.user=t,e&&e()})).catch((e=>{401===e.response.status?(this.authenticated=!1,this.user={},t&&t()):a(e)}))}}}),I=["onSubmit"],M={class:"card-body p-4 px-sm-5"},P=(0,n._)("h3",{class:"text-primary text-center mt-3 mb-5"},"Sign up for free",-1),T={class:"mb-3"},H=(0,n._)("label",{for:"name",class:"form-label"},"Name",-1),Y={class:"mb-3"},A=(0,n._)("label",{for:"email",class:"form-label"},"Email address",-1),B={class:"mb-3"},V=(0,n._)("label",{for:"password",class:"form-label"},"Password",-1),$={class:"mb-4"},N=(0,n._)("label",{for:"password_confirmation",class:"form-label"},"Confirm your password",-1),Z=["disabled"],J={class:"card-footer p-3"},R={class:"text-center mb-0"},Q=(0,n.Uk)("Already a member? "),G=(0,n.Uk)("Login here"),K=(0,n.Uk)(".");var X={setup(e){const t=(0,i.tv)(),{checkAuthenticated:a}=L(),{showError:l}=O(),o=(0,E.iH)(!1);let r={name:"",email:"",password:"",password_confirmation:""};const c=()=>{o.value=!0,window.axios.post("/register",r).then((()=>{a((()=>{t.push({name:"userDashboard"})}))})).catch((e=>{o.value=!1,l(e)}))};return(e,t)=>{const a=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("form",{onSubmit:(0,s.iM)(c,["prevent"]),class:"card rounded-3 shadow-lg my-5 max-w-1 mx-auto"},[(0,n._)("div",M,[P,(0,n._)("div",T,[H,(0,n.wy)((0,n._)("input",{type:"text",id:"name",name:"name",class:"form-control",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>(0,E.SU)(r).name=e)},null,512),[[s.nr,(0,E.SU)(r).name]])]),(0,n._)("div",Y,[A,(0,n.wy)((0,n._)("input",{type:"email",id:"email",name:"email",placeholder:"name@example.com",class:"form-control",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>(0,E.SU)(r).email=e)},null,512),[[s.nr,(0,E.SU)(r).email]])]),(0,n._)("div",B,[V,(0,n.wy)((0,n._)("input",{type:"password",id:"password",name:"password",class:"form-control",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>(0,E.SU)(r).password=e)},null,512),[[s.nr,(0,E.SU)(r).password]])]),(0,n._)("div",$,[N,(0,n.wy)((0,n._)("input",{type:"password",id:"password_confirmation",name:"password_confirmation",class:"form-control",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>(0,E.SU)(r).password_confirmation=e)},null,512),[[s.nr,(0,E.SU)(r).password_confirmation]])]),(0,n._)("button",{type:"submit",class:"btn btn-primary w-100 mb-3",disabled:o.value},(0,W.zw)(o.value?"Registering...":"Sign up"),9,Z)]),(0,n._)("div",J,[(0,n._)("p",R,[Q,(0,n.Wm)(a,{to:{name:"login"}},{default:(0,n.w5)((()=>[G])),_:1}),K])])],40,I)}}};const ee=X;var te=ee;const ae=["onSubmit"],se={class:"card-body p-4 px-sm-5"},le=(0,n._)("h3",{class:"text-primary text-center mt-3 mb-5"},"Log in to your account",-1),ie={class:"mb-3"},ne=(0,n._)("label",{for:"email",class:"form-label"},"Email address",-1),oe={class:"mb-4"},re=(0,n._)("label",{for:"password",class:"form-label"},"Password",-1),ce=["disabled"],de={class:"card-footer p-3"},me={class:"text-center mb-0"},ue=(0,n.Uk)("Don't have an account yet? "),pe=(0,n.Uk)("Register here"),fe=(0,n.Uk)(".");var be={setup(e){const t=(0,i.tv)(),{checkAuthenticated:a}=L(),{showError:l}=O(),o=(0,E.iH)(!1);let r={email:"",password:""};const c=()=>{o.value=!0,window.axios.get("/sanctum/csrf-cookie").then((()=>{window.axios.post("/login",r).then((()=>{a((()=>{t.push({name:"userDashboard"})}))})).catch((e=>{o.value=!1,l(e)}))})).catch((e=>{o.value=!1,l(e)}))};return(e,t)=>{const a=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("form",{onSubmit:(0,s.iM)(c,["prevent"]),class:"card rounded-3 shadow-lg my-5 max-w-1 mx-auto"},[(0,n._)("div",se,[le,(0,n._)("div",ie,[ne,(0,n.wy)((0,n._)("input",{type:"email",id:"email",name:"email",placeholder:"name@example.com",class:"form-control",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>(0,E.SU)(r).email=e)},null,512),[[s.nr,(0,E.SU)(r).email]])]),(0,n._)("div",oe,[re,(0,n.wy)((0,n._)("input",{type:"password",id:"password",name:"password",class:"form-control",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>(0,E.SU)(r).password=e)},null,512),[[s.nr,(0,E.SU)(r).password]])]),(0,n._)("button",{type:"submit",class:"btn btn-primary w-100 mb-3",disabled:o.value},(0,W.zw)(o.value?"Accessing...":"Login"),9,ce)]),(0,n._)("div",de,[(0,n._)("p",me,[ue,(0,n.Wm)(a,{to:{name:"register"}},{default:(0,n.w5)((()=>[pe])),_:1}),fe])])],40,ae)}}};const we=be;var ge=we;const he=(0,l.Q_)("file",{state:()=>({files:[],file:{},loading:!1,error:null}),actions:{loadFiles(){this.files=[],this.loading=!0,this.error=null,window.axios.get("/api/files").then((e=>{this.files=e.data})).catch((e=>{this.error=e})).finally((()=>{this.loading=!1}))},loadUserFiles(){this.files=[],this.loading=!0,this.error=null,window.axios.get("/api/user/files").then((e=>{this.files=e.data})).catch((e=>{this.error=e})).finally((()=>{this.loading=!1}))},loadFile(e){this.file={},this.loading=!0,this.error=null,window.axios.get(`/api/files/${e}`).then((e=>{const{id:t,name:a,ext:s,compressed:l,size:i,owner:n,created_at:o}=e.data;function r(e){const t=Number((100*Math.abs(e)).toPrecision(15));return Math.round(t)/100*Math.sign(e)}const c=new Date(o);this.file.id=t,this.file.name=a,this.file.ext=s,this.file.compressed=l,this.file.size=r(i/1048576),this.file.created_at=c.toLocaleString("default",{month:"long"})+" "+c.getDate()+", "+c.getFullYear(),this.file.owner=n})).catch((e=>{this.error=e})).finally((()=>{this.loading=!1}))},downloadFile(e){const{showInfo:t,showError:s}=O(),l=a(2884);window.axios({url:`/api/files/download/${e.id}`,method:"GET",responseType:"blob"}).then((a=>{l(a.data,`${e.name}.zip`,"application/zip"),t("Your file is downloading...")})).catch((e=>{s(e)}))},deleteFile(e,t=!0){const{showInfo:a,showError:s}=O();let l=!0;t&&(l=window.confirm("Are you sure you want to delete this file?")),l&&(window.axios.delete(`/api/files/${e}`).catch((e=>{s(e)})),a("Deleting file..."))}}}),_e=e=>((0,n.dD)("data-v-0f470e90"),e=e(),(0,n.Cn)(),e),ye={class:"d-flex align-items-center justify-content-between gap-4"},ve=_e((()=>(0,n._)("h2",{class:"mb-0"},"My shared files",-1))),xe=_e((()=>(0,n._)("i",{class:"bi bi-upload me-2"},null,-1))),ke=(0,n.Uk)("Upload file "),Ue=_e((()=>(0,n._)("hr",{class:"mb-3"},null,-1))),Se={key:0,class:"text-center mt-6 pt-5"},De=["src"],je=_e((()=>(0,n._)("h2",null,"Please, wait...",-1))),Fe={key:1},Ce={key:0,class:"alert alert-danger d-flex align-items-center max-w-2 mx-auto mt-5",role:"alert"},qe=_e((()=>(0,n._)("i",{class:"bi bi-exclamation-triangle-fill fs-3 me-3"},null,-1))),Ee=_e((()=>(0,n._)("p",{class:"mb-1"},"Sorry. We were unable to load the file list.",-1))),We={key:0,class:"mb-1"},ze=_e((()=>(0,n._)("strong",null,"Description:",-1))),Oe={key:1},Le={key:0},Ie=_e((()=>(0,n._)("p",{class:"mb-4-5 text-end small text-muted"},[(0,n.Uk)(" The "),(0,n._)("i",{class:"bi bi-check-circle-fill text-success fs-6"}),(0,n.Uk)(" icon means the file is compressed and ready to download, as opposed to the "),(0,n._)("i",{class:"bi bi-exclamation-circle-fill text-warning fs-6"}),(0,n.Uk)(" icon. ")],-1))),Me={class:"d-flex flex-wrap gap-5 justify-content-start file-container"},Pe={class:"card shadow position-relative"},Te={key:0,class:"bi bi-check-circle-fill text-success fs-4 position-absolute top-0 start-0 translate-middle"},He={key:1,class:"bi bi-exclamation-circle-fill text-warning fs-4 position-absolute top-0 start-0 translate-middle"},Ye={class:"fs-1 fw-bold text-uppercase text-break text-center lh-1"},Ae={class:"card-footer d-flex justify-content-between"},Be=["disabled","onClick"],Ve=_e((()=>(0,n._)("i",{class:"bi bi-download"},null,-1))),$e=[Ve],Ne=_e((()=>(0,n._)("i",{class:"bi bi-pencil-square"},null,-1))),Ze=["onClick"],Je=_e((()=>(0,n._)("i",{class:"bi bi-x-square-fill text-danger"},null,-1))),Re=[Je],Qe={class:"text-center small p-2 pb-0 file-name"},Ge={key:1},Ke=_e((()=>(0,n._)("p",{class:"text-center mt-5"},"You haven't uploaded any files yet. Give it a try!",-1))),Xe={class:"text-center mt-4"},et=_e((()=>(0,n._)("i",{class:"bi bi-upload me-2"},null,-1))),tt=(0,n.Uk)("Upload file ");var at={setup(e){const{files:t,loading:s,error:i}=(0,l.Jk)(he()),{loadUserFiles:o,downloadFile:r,deleteFile:c}=he();return o(),(e,l)=>{const o=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ye,[ve,(0,n.Wm)(o,{to:{name:"fileCreate"},class:"btn btn-primary"},{default:(0,n.w5)((()=>[xe,ke])),_:1})]),Ue,(0,E.SU)(s)?((0,n.wg)(),(0,n.iD)("div",Se,[(0,n._)("img",{src:a(8624),alt:"Loading..."},null,8,De),je])):((0,n.wg)(),(0,n.iD)("div",Fe,[(0,E.SU)(i)?((0,n.wg)(),(0,n.iD)("div",Ce,[qe,(0,n._)("div",null,[Ee,(0,E.SU)(i).message?((0,n.wg)(),(0,n.iD)("p",We,[ze,(0,n.Uk)(" "+(0,W.zw)((0,E.SU)(i).message)+".",1)])):(0,n.kq)("",!0)])])):((0,n.wg)(),(0,n.iD)("div",Oe,[(0,E.SU)(t).length>0?((0,n.wg)(),(0,n.iD)("div",Le,[Ie,(0,n._)("div",Me,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,E.SU)(t),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"file-wrapper",key:e.id},[(0,n._)("div",Pe,[e.compressed?((0,n.wg)(),(0,n.iD)("i",Te)):((0,n.wg)(),(0,n.iD)("i",He)),(0,n.Wm)(o,{to:{name:"fileShow",params:{id:e.id}},class:"card-body overflow-hidden d-flex justify-content-center align-items-center"},{default:(0,n.w5)((()=>[(0,n._)("span",Ye,"."+(0,W.zw)(e.ext),1)])),_:2},1032,["to"]),(0,n._)("div",Ae,[(0,n._)("button",{class:"btn p-0 fs-5",disabled:!e.compressed,onClick:t=>(0,E.SU)(r)(e)},$e,8,Be),(0,n.Wm)(o,{to:{name:"fileEdit",params:{id:e.id}},class:"btn p-0 fs-5"},{default:(0,n.w5)((()=>[Ne])),_:2},1032,["to"]),(0,n._)("button",{class:"btn p-0 fs-5",onClick:t=>(0,E.SU)(c)(e.id)},Re,8,Ze)])]),(0,n._)("p",Qe,(0,W.zw)(e.name),1)])))),128))])])):((0,n.wg)(),(0,n.iD)("div",Ge,[Ke,(0,n._)("div",Xe,[(0,n.Wm)(o,{to:{name:"fileCreate"},class:"btn btn-primary"},{default:(0,n.w5)((()=>[et,tt])),_:1})])]))]))]))],64)}}};const st=(0,j.Z)(at,[["__scopeId","data-v-0f470e90"]]);var lt=st;const it=e=>((0,n.dD)("data-v-7235c662"),e=e(),(0,n.Cn)(),e),nt=it((()=>(0,n._)("h2",{class:"mb-0"},"Files shared by the community",-1))),ot=it((()=>(0,n._)("hr",{class:"mb-3"},null,-1))),rt={key:0,class:"text-center mt-6 pt-5"},ct=["src"],dt=it((()=>(0,n._)("h2",null,"Please, wait...",-1))),mt={key:1},ut={key:0,class:"alert alert-danger d-flex align-items-center max-w-2 mx-auto mt-5",role:"alert"},pt=it((()=>(0,n._)("i",{class:"bi bi-exclamation-triangle-fill fs-3 me-3"},null,-1))),ft=it((()=>(0,n._)("p",{class:"mb-1"},"Sorry. We were unable to load the file list.",-1))),bt={key:0,class:"mb-1"},wt=it((()=>(0,n._)("strong",null,"Description:",-1))),gt={key:1},ht={key:0},_t=it((()=>(0,n._)("p",{class:"mb-4-5 text-end small text-muted"},[(0,n.Uk)(" The "),(0,n._)("i",{class:"bi bi-check-circle-fill text-success fs-6"}),(0,n.Uk)(" icon means the file is compressed and ready to download, as opposed to the "),(0,n._)("i",{class:"bi bi-exclamation-circle-fill text-warning fs-6"}),(0,n.Uk)(" icon. ")],-1))),yt={class:"d-flex flex-wrap gap-5 justify-content-start file-container"},vt={class:"card shadow position-relative"},xt={key:0,class:"bi bi-check-circle-fill text-success fs-4 position-absolute top-0 start-0 translate-middle"},kt={key:1,class:"bi bi-exclamation-circle-fill text-warning fs-4 position-absolute top-0 start-0 translate-middle"},Ut={class:"fs-1 fw-bold text-uppercase text-break text-center lh-1"},St={class:"card-footer fs-5 d-flex justify-content-between"},Dt=["disabled","onClick"],jt=it((()=>(0,n._)("i",{class:"bi bi-download me-2"},null,-1))),Ft=(0,n.Uk)("Download "),Ct=[jt,Ft],qt={class:"text-center small p-2 pb-0 file-name"},Et={key:1},Wt=it((()=>(0,n._)("p",{class:"text-center mt-5"},"Nobody has shared a file with the community yet. Be the first!",-1))),zt={class:"d-flex justify-content-center align-items-center gap-3 mt-4"},Ot=(0,n.Uk)("Sign up"),Lt=it((()=>(0,n._)("span",{class:"fs-5"},"or",-1))),It=(0,n.Uk)("Login");var Mt={setup(e){const{files:t,loading:s,error:i}=(0,l.Jk)(he()),{loadFiles:o,downloadFile:r}=he();return o(),(e,l)=>{const o=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[nt,ot,(0,E.SU)(s)?((0,n.wg)(),(0,n.iD)("div",rt,[(0,n._)("img",{src:a(8624),alt:"Loading..."},null,8,ct),dt])):((0,n.wg)(),(0,n.iD)("div",mt,[(0,E.SU)(i)?((0,n.wg)(),(0,n.iD)("div",ut,[pt,(0,n._)("div",null,[ft,(0,E.SU)(i).message?((0,n.wg)(),(0,n.iD)("p",bt,[wt,(0,n.Uk)(" "+(0,W.zw)((0,E.SU)(i).message)+".",1)])):(0,n.kq)("",!0)])])):((0,n.wg)(),(0,n.iD)("div",gt,[(0,E.SU)(t).length>0?((0,n.wg)(),(0,n.iD)("div",ht,[_t,(0,n._)("div",yt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,E.SU)(t),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"file-wrapper",key:e.id},[(0,n._)("div",vt,[e.compressed?((0,n.wg)(),(0,n.iD)("i",xt)):((0,n.wg)(),(0,n.iD)("i",kt)),(0,n.Wm)(o,{to:{name:"fileShow",params:{id:e.id}},class:"card-body overflow-hidden d-flex justify-content-center align-items-center"},{default:(0,n.w5)((()=>[(0,n._)("span",Ut,"."+(0,W.zw)(e.ext),1)])),_:2},1032,["to"]),(0,n._)("div",St,[(0,n._)("button",{class:(0,W.C_)(["btn btn-sm btn-primary w-100",{"opacity-25":!e.compressed}]),disabled:!e.compressed,onClick:t=>(0,E.SU)(r)(e)},Ct,10,Dt)])]),(0,n._)("p",qt,(0,W.zw)(e.name),1)])))),128))])])):((0,n.wg)(),(0,n.iD)("div",Et,[Wt,(0,n._)("div",zt,[(0,n.Wm)(o,{to:{name:"register"},class:"btn rounded-pill btn-primary"},{default:(0,n.w5)((()=>[Ot])),_:1}),Lt,(0,n.Wm)(o,{to:{name:"login"},class:"btn rounded-pill btn-secondary"},{default:(0,n.w5)((()=>[It])),_:1})])]))]))]))],64)}}};const Pt=(0,j.Z)(Mt,[["__scopeId","data-v-7235c662"]]);var Tt=Pt;const Ht={class:"d-flex align-items-center justify-content-between gap-4"},Yt=(0,n._)("h2",{class:"mb-0"},"Upload file",-1),At=(0,n._)("i",{class:"bi bi-arrow-90deg-left me-2"},null,-1),Bt=(0,n.Uk)("Back "),Vt=(0,n._)("hr",{class:"mb-5"},null,-1),$t=["onSubmit"],Nt={class:"card-body p-4 px-sm-5"},Zt=(0,n._)("h3",{class:"text-primary text-center mt-3 mb-5"},"Share a file with the community",-1),Jt={class:"mb-4"},Rt=(0,n._)("label",{for:"name",class:"form-label"},"File name",-1),Qt=(0,n._)("div",{class:"form-text"},"If you leave this blank, the current file name will be used.",-1),Gt={class:"mb-3"},Kt=(0,n._)("div",{class:"form-text"},"Max. file size: 50 MB",-1),Xt=(0,n._)("div",{class:"text-end"},[(0,n._)("button",{type:"submit",class:"btn btn-primary mb-3"},[(0,n._)("i",{class:"bi bi-upload me-2"}),(0,n.Uk)("Upload")])],-1);var ea={setup(e){const t=(0,i.tv)(),a=(0,E.iH)(null),{showInfo:l,showError:o}=O();let r={name:"",content:null};const c=()=>{r.content=a.value.files[0]},d=()=>{const e={"Content-Type":"multipart/form-data"},a=new FormData;a.append("name",r.name),a.append("content",r.content),window.axios.post("/api/files",a,{headers:e}).catch((e=>{o(e)})),l("Uploading file..."),t.push({name:"userDashboard"})};return(e,t)=>{const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Ht,[Yt,(0,n.Wm)(l,{to:{name:"userDashboard"},class:"btn btn-outline-secondary"},{default:(0,n.w5)((()=>[At,Bt])),_:1})]),Vt,(0,n._)("form",{onSubmit:(0,s.iM)(d,["prevent"]),class:"card rounded-3 shadow-lg my-5 max-w-2 mx-auto"},[(0,n._)("div",Nt,[Zt,(0,n._)("div",Jt,[Rt,(0,n.wy)((0,n._)("input",{type:"text",id:"name",name:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>(0,E.SU)(r).name=e)},null,512),[[s.nr,(0,E.SU)(r).name,void 0,{trim:!0}]]),Qt]),(0,n._)("div",Gt,[(0,n._)("input",{type:"file",id:"content",name:"content",ref_key:"content",ref:a,class:"form-control",required:"",onChange:c},null,544),Kt]),Xt])],40,$t)],64)}}};const ta=ea;var aa=ta;const sa=e=>((0,n.dD)("data-v-442e0708"),e=e(),(0,n.Cn)(),e),la={class:"d-flex align-items-center justify-content-between gap-4"},ia=sa((()=>(0,n._)("h2",{class:"mb-0"},"File details",-1))),na=sa((()=>(0,n._)("i",{class:"bi bi-arrow-90deg-left me-2"},null,-1))),oa=(0,n.Uk)("Back "),ra=sa((()=>(0,n._)("hr",{class:"mb-5"},null,-1))),ca={key:0,class:"text-center mt-6 pt-5"},da=["src"],ma=sa((()=>(0,n._)("h2",null,"Please, wait...",-1))),ua={key:1},pa={key:0,class:"alert alert-danger d-flex align-items-center max-w-2 mx-auto mt-5",role:"alert"},fa=sa((()=>(0,n._)("i",{class:"bi bi-exclamation-triangle-fill fs-3 me-3"},null,-1))),ba=sa((()=>(0,n._)("p",{class:"mb-1"},"Sorry. We were unable to load the file list.",-1))),wa={key:0,class:"mb-1"},ga=sa((()=>(0,n._)("strong",null,"Description:",-1))),ha={key:1},_a={key:0,class:"card shadow max-w-1 p-4 mx-auto my-5"},ya={class:"card-body"},va={class:"mb-4 pb-1"},xa=sa((()=>(0,n._)("strong",null,"Uploaded by:",-1))),ka=sa((()=>(0,n._)("strong",null,"Upload date:",-1))),Ua=sa((()=>(0,n._)("strong",null,"File size:",-1))),Sa=sa((()=>(0,n._)("strong",null,"Status:",-1))),Da=(0,n.Uk)("  "),ja={key:0,class:"action-buttons d-flex justify-content-between mt-4"},Fa=["disabled"],Ca=sa((()=>(0,n._)("i",{class:"bi bi-download"},null,-1))),qa=[Ca],Ea=sa((()=>(0,n._)("i",{class:"bi bi-pencil-square"},null,-1))),Wa=sa((()=>(0,n._)("i",{class:"bi bi-x-square-fill text-danger"},null,-1))),za=[Wa],Oa={key:1,class:"text-center mt-4"},La=["disabled"],Ia=sa((()=>(0,n._)("i",{class:"bi bi-download me-2"},null,-1))),Ma=(0,n.Uk)("Download "),Pa=[Ia,Ma],Ta={key:1},Ha=sa((()=>(0,n._)("div",{class:"alert alert-danger d-flex align-items-center max-w-2 mx-auto",role:"alert"},[(0,n._)("i",{class:"bi bi-exclamation-triangle-fill fs-3 me-3"}),(0,n._)("div",null,"Sorry. We were unable to load the file.")],-1))),Ya=[Ha];var Aa={setup(e){const t=(0,i.yj)(),s=(0,i.tv)(),{authenticated:o}=(0,l.Jk)(L()),{file:r,loading:c,error:d}=(0,l.Jk)(he()),{loadFile:m,downloadFile:u,deleteFile:p}=he();m(t.params.id);const f=e=>{confirm("Are you sure you want to delete this file?")&&(p(e,!1),s.push({name:"userDashboard"}))};return(e,t)=>{const s=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",la,[ia,(0,n.Wm)(s,{to:{name:(0,E.SU)(o)?"userDashboard":"fileList"},class:"btn btn-outline-secondary"},{default:(0,n.w5)((()=>[na,oa])),_:1},8,["to"])]),ra,(0,E.SU)(c)?((0,n.wg)(),(0,n.iD)("div",ca,[(0,n._)("img",{src:a(8624),alt:"Loading..."},null,8,da),ma])):((0,n.wg)(),(0,n.iD)("div",ua,[(0,E.SU)(d)?((0,n.wg)(),(0,n.iD)("div",pa,[fa,(0,n._)("div",null,[ba,(0,E.SU)(d).message?((0,n.wg)(),(0,n.iD)("p",wa,[ga,(0,n.Uk)(" "+(0,W.zw)((0,E.SU)(d).message)+".",1)])):(0,n.kq)("",!0)])])):((0,n.wg)(),(0,n.iD)("div",ha,["name"in(0,E.SU)(r)?((0,n.wg)(),(0,n.iD)("div",_a,[(0,n._)("div",ya,[(0,n._)("h3",va,(0,W.zw)(`${(0,E.SU)(r).name}.${(0,E.SU)(r).ext}`),1),(0,n._)("p",null,[xa,(0,n.Uk)(" "+(0,W.zw)((0,E.SU)(r).owner.name),1)]),(0,n._)("p",null,[ka,(0,n.Uk)(" "+(0,W.zw)((0,E.SU)(r).created_at),1)]),(0,n._)("p",null,[Ua,(0,n.Uk)(" "+(0,W.zw)((0,E.SU)(r).size)+" MB",1)]),(0,n._)("p",null,[Sa,Da,(0,n._)("span",{class:(0,W.C_)({"text-success":(0,E.SU)(r).compressed,"text-warning":!(0,E.SU)(r).compressed})},(0,W.zw)((0,E.SU)(r).compressed?"Compressed (ready to download)":"Undergoing compression"),3)]),(0,E.SU)(o)?((0,n.wg)(),(0,n.iD)("div",ja,[(0,n._)("button",{class:"btn p-0 fs-4",disabled:!(0,E.SU)(r).compressed,onClick:t[0]||(t[0]=e=>(0,E.SU)(u)((0,E.SU)(r)))},qa,8,Fa),(0,n.Wm)(s,{to:{name:"fileEdit",params:{id:(0,E.SU)(r).id}},class:"btn p-0 fs-5"},{default:(0,n.w5)((()=>[Ea])),_:1},8,["to"]),(0,n._)("button",{class:"btn p-0 fs-4",onClick:t[1]||(t[1]=e=>f((0,E.SU)(r).id))},za)])):((0,n.wg)(),(0,n.iD)("div",Oa,[(0,n._)("button",{class:"btn btn-primary w-100",disabled:!(0,E.SU)(r).compressed,onClick:t[2]||(t[2]=e=>(0,E.SU)(u)((0,E.SU)(r)))},Pa,8,La)]))])])):((0,n.wg)(),(0,n.iD)("div",Ta,Ya))]))]))],64)}}};const Ba=(0,j.Z)(Aa,[["__scopeId","data-v-442e0708"]]);var Va=Ba;const $a={class:"d-flex align-items-center justify-content-between gap-4"},Na=(0,n._)("h2",{class:"mb-0"},"Edit file's metadata",-1),Za=(0,n._)("i",{class:"bi bi-arrow-90deg-left me-2"},null,-1),Ja=(0,n.Uk)("Back"),Ra=[Za,Ja],Qa=(0,n._)("hr",{class:"mb-5"},null,-1),Ga={key:0,class:"text-center mt-6 pt-5"},Ka=["src"],Xa=(0,n._)("h2",null,"Please, wait...",-1),es={key:1},ts={key:0,class:"alert alert-danger d-flex align-items-center max-w-2 mx-auto mt-5",role:"alert"},as=(0,n._)("i",{class:"bi bi-exclamation-triangle-fill fs-3 me-3"},null,-1),ss=(0,n._)("p",{class:"mb-1"},"Sorry. We were unable to load the file list.",-1),ls={key:0,class:"mb-1"},is=(0,n._)("strong",null,"Description:",-1),ns={key:1},os=["onSubmit"],rs={class:"card-body p-4 px-sm-5"},cs=(0,n._)("h3",{class:"text-primary text-center mt-3 mb-5"},"Edit this file's name",-1),ds={class:"mb-4"},ms=(0,n._)("label",{for:"name",class:"form-label"},"File name",-1),us=(0,n._)("div",{class:"text-end"},[(0,n._)("button",{type:"submit",class:"btn btn-primary mb-3"},[(0,n._)("i",{class:"bi bi-pencil-square me-2"}),(0,n.Uk)("Update")])],-1);var ps={setup(e){const t=(0,i.yj)(),o=(0,i.tv)(),{showInfo:r,showError:c}=O(),{file:d,loading:m,error:u}=(0,l.Jk)(he()),{loadFile:p}=he(),f=()=>{window.axios.put(`/api/files/${t.params.id}`,{name:d.value.name}).catch((e=>{c(e)})),r("Updating file..."),o.back()};return p(t.params.id),(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",$a,[Na,(0,n._)("button",{class:"btn btn-outline-secondary",onClick:t[0]||(t[0]=e=>(0,E.SU)(o).back())},Ra)]),Qa,(0,E.SU)(m)?((0,n.wg)(),(0,n.iD)("div",Ga,[(0,n._)("img",{src:a(8624),alt:"Loading..."},null,8,Ka),Xa])):((0,n.wg)(),(0,n.iD)("div",es,[(0,E.SU)(u)?((0,n.wg)(),(0,n.iD)("div",ts,[as,(0,n._)("div",null,[ss,(0,E.SU)(u).message?((0,n.wg)(),(0,n.iD)("p",ls,[is,(0,n.Uk)(" "+(0,W.zw)((0,E.SU)(u).message)+".",1)])):(0,n.kq)("",!0)])])):((0,n.wg)(),(0,n.iD)("div",ns,[(0,n._)("form",{onSubmit:(0,s.iM)(f,["prevent"]),class:"card rounded-3 shadow-lg my-5 max-w-2 mx-auto"},[(0,n._)("div",rs,[cs,(0,n._)("div",ds,[ms,(0,n.wy)((0,n._)("input",{type:"text",id:"name",name:"name",class:"form-control",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>(0,E.SU)(d).name=e)},null,512),[[s.nr,(0,E.SU)(d).name,void 0,{trim:!0}]])]),us])],40,os)]))]))],64))}};const fs=ps;var bs=fs;const ws=[{name:"home",path:"/",component:q,meta:{guestOnly:!0}},{name:"register",path:"/register",component:te,meta:{guestOnly:!0}},{name:"login",path:"/login",component:ge,meta:{guestOnly:!0}},{name:"userDashboard",path:"/dashboard",component:lt,meta:{authOnly:!0}},{name:"fileList",path:"/files",component:Tt,meta:{guestOnly:!0}},{name:"fileCreate",path:"/files/create",component:aa,meta:{authOnly:!0}},{name:"fileShow",path:"/files/:id/show",component:Va},{name:"fileEdit",path:"/files/:id/edit",component:bs,meta:{authOnly:!0}}],gs=(0,i.p7)({history:(0,i.PO)(),routes:ws,scrollBehavior(){return{top:0}}});var hs=gs,_s=a(6423),ys=a(6265),vs=a.n(ys);const xs=e=>((0,n.dD)("data-v-6694c27b"),e=e(),(0,n.Cn)(),e),ks={class:"navbar navbar-expand-md navbar-dark bg-dark"},Us={class:"container"},Ss={class:"navbar-brand fs-3 d-flex align-items-center"},Ds=["src"],js=xs((()=>(0,n._)("span",{class:"d-none d-sm-inline-block"},"InstaShare UI",-1))),Fs=xs((()=>(0,n._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1))),Cs={key:0,class:"collapse navbar-collapse",id:"navbarToggler"},qs={class:"navbar-nav align-items-md-center ms-auto mb-2 mb-md-0"},Es={key:0,class:"nav-item"},Ws=(0,n.Uk)("Home"),zs={key:1,class:"nav-item"},Os=(0,n.Uk)("Shared Files"),Ls={key:2,class:"nav-item ms-md-2 mt-2 mt-md-0"},Is=(0,n.Uk)("Sign up"),Ms={key:3,class:"nav-item ms-md-3 mt-3 mt-md-0"},Ps=(0,n.Uk)("Login"),Ts={key:4,class:"nav-item"},Hs=(0,n.Uk)("My Files"),Ys={key:5,class:"nav-item ms-md-2 mt-2 mt-md-0"},As={id:"content",class:"container p-3 p-sm-5"},Bs={key:0,class:"text-center mt-6 pt-5"},Vs=["src"],$s=xs((()=>(0,n._)("h2",null,"Please, wait...",-1))),Ns={class:"px-3 py-4 bg-dark text-light text-center"},Zs=xs((()=>(0,n._)("div",{class:"toast-container"},[(0,n._)("div",{class:"position-fixed bottom-0 end-0 p-3",style:{"z-index":"11"}},[(0,n._)("div",{id:"info-toast",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-delay":"3500"},[(0,n._)("div",{class:"toast-header border-bottom"},[(0,n._)("i",{class:"bi bi-info-circle-fill text-info me-2"}),(0,n._)("strong",{class:"me-auto"},"Info"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})]),(0,n._)("div",{class:"toast-body bg-light p-3"})])]),(0,n._)("div",{class:"position-fixed bottom-0 end-0 p-3",style:{"z-index":"11"}},[(0,n._)("div",{id:"error-toast",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-delay":"3500"},[(0,n._)("div",{class:"toast-header border-bottom"},[(0,n._)("i",{class:"bi bi-exclamation-circle-fill text-danger me-2"}),(0,n._)("strong",{class:"me-auto"},"Error"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})]),(0,n._)("div",{class:"toast-body bg-light p-3"})])])],-1)));var Js={setup(e){const t=(0,i.tv)(),{authenticated:s}=(0,l.Jk)(L()),{checkAuthenticated:o}=L(),{showError:r}=O(),c=he(),d=(0,E.iH)(!0);window.Echo.channel("files").stopListening(".FileCreated").stopListening(".FileUpdated").stopListening(".FileDeleted"),window.Echo.leave("files"),window.Echo.channel("files").listen(".FileCreated",(({file:e})=>{void 0===c.files.find((t=>t.id===e.id))&&c.files.push(e)})).listen(".FileUpdated",(({file:e})=>{const t=c.files.findIndex((t=>t.id===e.id));-1!==t&&c.files.splice(t,1,e)})).listen(".FileDeleted",(({file:e})=>{const t=c.files.findIndex((t=>t.id===e.id));-1!==t&&c.files.splice(t,1)}));const m=()=>{window.axios.post("/logout").then((()=>{o(null,(()=>{t.push({name:"home"})}))})).catch((e=>{r(e)}))};return o((()=>{d.value=!1,t.push({name:"userDashboard"})}),(()=>{d.value=!1,t.push({name:"home"})})),(e,t)=>{const l=(0,n.up)("router-link"),i=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",null,[(0,n._)("nav",ks,[(0,n._)("div",Us,[(0,n._)("span",Ss,[(0,n._)("img",{src:a(2835),width:"40",height:"40",alt:"Logo",class:"d-inline-block me-3"},null,8,Ds),js]),Fs,d.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Cs,[(0,n._)("ul",qs,[(0,E.SU)(s)?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("li",Es,[(0,n.Wm)(l,{to:{name:"home"},class:"nav-link"},{default:(0,n.w5)((()=>[Ws])),_:1})])),(0,E.SU)(s)?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("li",zs,[(0,n.Wm)(l,{to:{name:"fileList"},class:"nav-link"},{default:(0,n.w5)((()=>[Os])),_:1})])),(0,E.SU)(s)?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("li",Ls,[(0,n.Wm)(l,{to:{name:"register"},class:"btn btn-outline-primary"},{default:(0,n.w5)((()=>[Is])),_:1})])),(0,E.SU)(s)?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("li",Ms,[(0,n.Wm)(l,{to:{name:"login"},class:"btn btn-primary"},{default:(0,n.w5)((()=>[Ps])),_:1})])),(0,E.SU)(s)?((0,n.wg)(),(0,n.iD)("li",Ts,[(0,n.Wm)(l,{to:{name:"userDashboard"},class:"nav-link"},{default:(0,n.w5)((()=>[Hs])),_:1})])):(0,n.kq)("",!0),(0,E.SU)(s)?((0,n.wg)(),(0,n.iD)("li",Ys,[(0,n._)("i",{class:"bi bi-box-arrow-right fs-2 lh-1 nav-link",onClick:m})])):(0,n.kq)("",!0)])]))])])]),(0,n._)("section",As,[d.value?((0,n.wg)(),(0,n.iD)("div",Bs,[(0,n._)("img",{src:a(8624),alt:"Loading..."},null,8,Vs),$s])):((0,n.wg)(),(0,n.j4)(i,{key:1}))]),(0,n._)("footer",Ns," © InstaShare UI - All rights reserved - "+(0,W.zw)((new Date).getFullYear()),1),Zs],64)}}};const Rs=(0,j.Z)(Js,[["__scopeId","data-v-6694c27b"]]);var Qs=Rs;a(7157),(0,s.ri)(Qs).use(hs).use(_s.Z,vs()).use((0,l.WB)()).mount("#app")},9589:function(e,t,a){e.exports=a.p+"img/illustration-download.285af9e5.svg"},8665:function(e,t,a){e.exports=a.p+"img/illustration-upload.23ea698b.svg"},2835:function(e,t,a){e.exports=a.p+"img/logo.4cc05bb0.svg"},8624:function(e,t,a){e.exports=a.p+"img/preloader.a59a7d73.svg"}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var i=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,s,l,i){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],l=e[d][1],i=e[d][2];for(var o=!0,r=0;r<s.length;r++)(!1&i||n>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[r])}))?s.splice(r--,1):(o=!1,i<n&&(n=i));if(o){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,l,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p=""}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,i,n=s[0],o=s[1],r=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(r)var d=r(a)}for(t&&t(s);c<n.length;c++)i=n[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},s=self["webpackChunkinsta_share_ui"]=self["webpackChunkinsta_share_ui"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(5552)}));s=a.O(s)})();
//# sourceMappingURL=app.b888e4b7.js.map